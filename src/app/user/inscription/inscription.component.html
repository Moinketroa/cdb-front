<div class="container-signup">
  <mat-card [@Animation]="'init'">
    <mat-card-header class="mat-title">
      <div mat-card-avatar class="example-header-image">
        <i class="material-icons">
          perm_identity
        </i>
      </div>
      <mat-card-title>{{'SIGNUP.NAME'| translate}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="userForm">
        <p>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="{{'SIGNUP.USERNAME'| translate}}*" formControlName="username">
            <mat-error>
              <div *ngIf="userForm.get('username').hasError('required') && userForm.get('username').touched">{{'SIGNUP.ERROR.EMPTY'| translate}}</div>
              <div *ngIf="userForm.get('username').hasError('minlength') && userForm.get('username').touched">{{'SIGNUP.ERROR.LENGTH'| translate}}</div>
            </mat-error>
          </mat-form-field>
        </p>
        <div formGroupName="passwords">
          <p>
            <mat-form-field class="example-full-width">
              <input matInput type="password" placeholder="{{'SIGNUP.PASSWORD'| translate}}*" formControlName="password">
              <mat-error>
                <div *ngIf="userForm.get(['passwords','password']).hasError('required')
                && userForm.get(['passwords','password']).touched">
                  {{'SIGNUP.ERROR.EMPTY'| translate}}
                </div>
                <div *ngIf="userForm.get(['passwords','password']).hasError('minlength')
                && userForm.get(['passwords','password']).touched">
                  {{'SIGNUP.ERROR.LENGTH'| translate}}
                </div>
              </mat-error>
            </mat-form-field>
          </p>
          <p>
            <mat-form-field class="example-full-width">
              <input matInput type="password" placeholder="{{'SIGNUP.PASSWORD_CONFIRM'| translate}}*" formControlName="confirm_password">
              <mat-error>
                <div *ngIf="userForm.get(['passwords','confirm_password']).hasError('required')
              && userForm.get(['passwords','confirm_password']).touched">
                  {{'SIGNUP.ERROR.EMPTY'| translate}}
                </div>
                <div *ngIf="userForm.get(['passwords','confirm_password']).hasError('MatchPassword')
              && userForm.get(['passwords','confirm_password']).touched">
                  {{'SIGNUP.ERROR.CONFIRM'| translate}}
                </div>
              </mat-error>
            </mat-form-field>
          </p>
        </div>
        <mat-card-actions>
          <button class="mat-button" color="warn" mat-raised-button routerLink="/login">{{'SIGNUP.BUTTON.CANCEL'| translate}}</button>
          <button class="mat-button" color="primary" mat-raised-button (click)="signUp()" type="submit" [disabled]="!userForm.valid">{{'SIGNUP.BUTTON.CONFIRM'| translate}}</button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>
